{% extends "layout.html" %}
{% block body %}

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
  integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>


<head>
  <script>
    var x = document.getElementById("demo");

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
      }
    }

    function showPosition(position) {
      x.innerHTML = "Latitude: " + position.coords.latitude +
        "<br>Longitude: " + position.coords.longitude;
    }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <style>
    .card {
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
      max-width: 500px;
      margin: auto;
      text-align: center;
      font-family: arial;
      align-items: center;
    }

    .title {
      color: grey;
      font-size: 18px;
    }

    button {
      border: none;
      outline: 0;
      display: inline-block;
      padding: 8px;
      color: white;
      background-color: #000;
      text-align: center;
      cursor: pointer;
      width: 100%;
      font-size: 18px;
    }

    .sbutton {
      background-color: #ffffff;
      /* Green */
      border: 2px solid #4CAF50;
      color: rgb(0, 0, 0);
      padding: 16px 32px;
      text-align: left;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      transition-duration: 0.4s;
      cursor: pointer;
      width: 100%;
      border-radius: 10px;
    }

    a {
      text-decoration: none;
      font-size: 22px;
      color: black;
    }

    button:hover,
    a:hover {
      opacity: 0.7;
    }

    .sbutton:hover {
      background-color: #4CAF50;
      color: white;
    }
  </style>
</head>

<body>
  <div>
    {% if user == shop.staff %}
    <h2 style="text-align:center">My Shop</h2>
    {% endif %}

    <div class="card">

      <img src="{{ shop.shopimg.url }}" alt="shopimg" width="200px">
      <h1> {{ shop.name }}</h1>
      <p class="title">bio: {{ shop.detail }}</p>
  <script src="scripts.js"></script>

  {{ shop.location }}
      <div style="margin: 24px 0;">

      </div>
      {% if user == shop.staff %}
      <button><a style="color: white" href="{% url 'modifyshop' %}">Modify Shop</a></button>
      {% elif not user.is_staff %}
      <div style="margin: 24px 0;">
        <a class="fix" href="{% url 'shopcheckview' shop.name %}"><i class="far fa-comments" style='font-size:40px'></i></a>
      {% endif %}
      </div>
    <br>
    {% if user.is_superuser %}
    {% for chat in chats %}
    <a href="{% url 'join_chat' chat.id %}" class="sbutton button1">
      <p>Username: {{ chat.customer }}</p>
    </a>
    {% endfor %}
    {% endif %}
  </div>
</div>
</body>
{% endblock %}